webpackJsonp([33],{589:function(l,n,u){"use strict";function t(l){return h._19(0,[(l()(),h.Z(0,null,null,10,"ion-col",[["align-items-center",""],["align-self-center",""],["class","current-text-color col"],["col-auto",""]],null,null,null,null,null)),h.Y(16384,null,0,O.a,[],null,null),(l()(),h._18(null,["\n          "])),(l()(),h.Z(0,null,null,2,"ion-row",[["class","row"],["justify-content-center",""]],null,null,null,null,null)),h.Y(16384,null,0,T.a,[],null,null),(l()(),h._18(null,["",""])),(l()(),h._18(null,["\n          "])),(l()(),h.Z(0,null,null,2,"ion-row",[["class","row"],["justify-content-center",""]],null,null,null,null,null)),h.Y(16384,null,0,T.a,[],null,null),(l()(),h._18(null,["","\n          "])),(l()(),h._18(null,["\n        "]))],null,function(l,n){l(n,5,0,n.parent.context.$implicit.edBusinessTime.substring(0,10));l(n,9,0,n.parent.context.$implicit.edBusinessTime.substring(11,n.parent.context.$implicit.edBusinessTime.length))})}function e(l){return h._19(0,[(l()(),h.Z(0,null,null,10,"ion-col",[["align-items-center",""],["align-self-center",""],["class","col"],["col-auto",""]],null,null,null,null,null)),h.Y(16384,null,0,O.a,[],null,null),(l()(),h._18(null,["\n          "])),(l()(),h.Z(0,null,null,2,"ion-row",[["class","row"],["justify-content-center",""]],null,null,null,null,null)),h.Y(16384,null,0,T.a,[],null,null),(l()(),h._18(null,["",""])),(l()(),h._18(null,["\n          "])),(l()(),h.Z(0,null,null,2,"ion-row",[["class","row"],["justify-content-center",""]],null,null,null,null,null)),h.Y(16384,null,0,T.a,[],null,null),(l()(),h._18(null,["","\n          "])),(l()(),h._18(null,["\n        "]))],null,function(l,n){l(n,5,0,n.parent.context.$implicit.edBusinessTime.substring(0,10));l(n,9,0,n.parent.context.$implicit.edBusinessTime.substring(11,n.parent.context.$implicit.edBusinessTime.length))})}function o(l){return h._19(0,[(l()(),h.Z(0,null,null,2,"ion-row",[["class","first-line-style current-first-line row"],["justify-content-center",""]],null,null,null,null,null)),h.Y(16384,null,0,T.a,[],null,null),(l()(),h._18(null,["\n          "]))],null,null)}function i(l){return h._19(0,[(l()(),h.Z(0,null,null,2,"ion-row",[["class","circle-style current-color row"],["justify-content-center",""]],null,null,null,null,null)),h.Y(16384,null,0,T.a,[],null,null),(l()(),h._18(null,["\n          "]))],null,null)}function a(l){return h._19(0,[(l()(),h.Z(0,null,null,2,"ion-row",[["class","first-line-style row"],["justify-content-center",""]],null,null,null,null,null)),h.Y(16384,null,0,T.a,[],null,null),(l()(),h._18(null,["\n          "]))],null,null)}function r(l){return h._19(0,[(l()(),h.Z(0,null,null,2,"ion-row",[["class","circle-style row"],["justify-content-center",""]],null,null,null,null,null)),h.Y(16384,null,0,T.a,[],null,null),(l()(),h._18(null,["\n          "]))],null,null)}function s(l){return h._19(0,[(l()(),h.Z(0,null,null,2,"ion-row",[["class","second-line-style row"],["justify-content-center",""]],null,null,null,null,null)),h.Y(16384,null,0,T.a,[],null,null),(l()(),h._18(null,["\n          "]))],null,null)}function c(l){return h._19(0,[(l()(),h.Z(0,null,null,6,"ion-col",[["align-items-center",""],["align-self-center",""],["class","current-text-color col"]],null,null,null,null,null)),h.Y(16384,null,0,O.a,[],null,null),(l()(),h._18(null,["\n          "])),(l()(),h.Z(0,null,null,2,"ion-row",[["class","row"],["text-wrap",""]],null,null,null,null,null)),h.Y(16384,null,0,T.a,[],null,null),(l()(),h._18(null,["",""])),(l()(),h._18(null,["\n        "]))],null,function(l,n){l(n,5,0,n.parent.context.$implicit.edRemark)})}function _(l){return h._19(0,[(l()(),h.Z(0,null,null,6,"ion-col",[["align-items-center",""],["align-self-center",""],["class","col"]],null,null,null,null,null)),h.Y(16384,null,0,O.a,[],null,null),(l()(),h._18(null,["\n          "])),(l()(),h.Z(0,null,null,2,"ion-row",[["class","row"],["text-wrap",""]],null,null,null,null,null)),h.Y(16384,null,0,T.a,[],null,null),(l()(),h._18(null,["",""])),(l()(),h._18(null,["\n        "]))],null,function(l,n){l(n,5,0,n.parent.context.$implicit.edRemark)})}function p(l){return h._19(0,[(l()(),h.Z(0,null,null,45,"div",[],null,null,null,null,null)),(l()(),h._18(null,["\n      "])),(l()(),h.Z(0,null,null,42,"ion-row",[["class","row"]],null,null,null,null,null)),h.Y(16384,null,0,T.a,[],null,null),(l()(),h._18(null,["\n        "])),(l()(),h._18(null,["\n        "])),(l()(),h.V(16777216,null,null,1,null,t)),h.Y(16384,null,0,v.h,[h.J,h.G],{ngIf:[0,"ngIf"]},null),(l()(),h._18(null,["\n\n        "])),(l()(),h._18(null,["\n        "])),(l()(),h.V(16777216,null,null,1,null,e)),h.Y(16384,null,0,v.h,[h.J,h.G],{ngIf:[0,"ngIf"]},null),(l()(),h._18(null,["\n\n        "])),(l()(),h.Z(0,null,null,22,"ion-col",[["class","col"],["col-auto",""],["no-padding",""]],null,null,null,null,null)),h.Y(16384,null,0,O.a,[],null,null),(l()(),h._18(null,["\n          "])),(l()(),h._18(null,["\n          "])),(l()(),h.V(16777216,null,null,1,null,o)),h.Y(16384,null,0,v.h,[h.J,h.G],{ngIf:[0,"ngIf"]},null),(l()(),h._18(null,["\n\n          "])),(l()(),h._18(null,["\n          "])),(l()(),h.V(16777216,null,null,1,null,i)),h.Y(16384,null,0,v.h,[h.J,h.G],{ngIf:[0,"ngIf"]},null),(l()(),h._18(null,["\n\n          "])),(l()(),h._18(null,["\n          "])),(l()(),h.V(16777216,null,null,1,null,a)),h.Y(16384,null,0,v.h,[h.J,h.G],{ngIf:[0,"ngIf"]},null),(l()(),h._18(null,["\n\n          "])),(l()(),h._18(null,["\n          "])),(l()(),h.V(16777216,null,null,1,null,r)),h.Y(16384,null,0,v.h,[h.J,h.G],{ngIf:[0,"ngIf"]},null),(l()(),h._18(null,["\n\n          "])),(l()(),h._18(null,["\n          "])),(l()(),h.V(16777216,null,null,1,null,s)),h.Y(16384,null,0,v.h,[h.J,h.G],{ngIf:[0,"ngIf"]},null),(l()(),h._18(null,["\n\n        "])),(l()(),h._18(null,["\n\n        "])),(l()(),h._18(null,["\n        "])),(l()(),h.V(16777216,null,null,1,null,c)),h.Y(16384,null,0,v.h,[h.J,h.G],{ngIf:[0,"ngIf"]},null),(l()(),h._18(null,["\n\n        "])),(l()(),h._18(null,["\n        "])),(l()(),h.V(16777216,null,null,1,null,_)),h.Y(16384,null,0,v.h,[h.J,h.G],{ngIf:[0,"ngIf"]},null),(l()(),h._18(null,["\n      "])),(l()(),h._18(null,["\n    "]))],function(l,n){var u=n.component;l(n,7,0,0==n.context.index);l(n,11,0,0!=n.context.index);l(n,18,0,0==n.context.index);l(n,22,0,0==n.context.index);l(n,26,0,0!=n.context.index);l(n,30,0,0!=n.context.index);l(n,34,0,n.context.index!=u.data.routingList.length-1);l(n,39,0,0==n.context.index);l(n,43,0,0!=n.context.index)},null)}function d(l){return h._19(0,[(l()(),h._18(null,["\n"])),(l()(),h.Z(0,null,null,22,"ion-content",[["class","margin-top-style"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,j.b,j.a)),h.Y(4374528,null,0,D.a,[C.a,k.a,V.a,h.j,h.B,J.a,A.a,h.v,[2,S.a],[2,G.a]],null,null),(l()(),h._18(1,["\n\n  "])),(l()(),h.Z(0,null,1,10,"ion-row",[["class","bottom-line div-white-background row"]],null,null,null,null,null)),h.Y(16384,null,0,T.a,[],null,null),(l()(),h._18(null,["\n    "])),(l()(),h.Z(0,null,null,2,"ion-col",[["align-items-center",""],["class","col"]],null,null,null,null,null)),h.Y(16384,null,0,O.a,[],null,null),(l()(),h._18(null,["路由状态:"])),(l()(),h._18(null,["\n    "])),(l()(),h.Z(0,null,null,2,"ion-col",[["align-items-center",""],["align-self-center",""],["class","bold-font col"],["col-auto",""]],null,null,null,null,null)),h.Y(16384,null,0,O.a,[],null,null),(l()(),h._18(null,["",""])),(l()(),h._18(null,["\n  "])),(l()(),h._18(1,["\n\n  "])),(l()(),h.Z(0,null,1,0,"div",[["id","allmap"]],null,null,null,null,null)),(l()(),h._18(1,["\n\n  "])),(l()(),h.Z(0,null,1,4,"div",[["class","div-white-background"]],null,null,null,null,null)),(l()(),h._18(null,["\n    "])),(l()(),h.V(16777216,null,null,1,null,p)),h.Y(802816,null,0,v.g,[h.J,h.G,h.p],{ngForOf:[0,"ngForOf"]},null),(l()(),h._18(null,["\n  "])),(l()(),h._18(1,["\n\n"])),(l()(),h._18(null,["\n"]))],function(l,n){l(n,21,0,n.component.data.routingList)},function(l,n){var u=n.component;l(n,1,0,h._12(n,2).statusbarPadding,h._12(n,2)._hasRefresher);l(n,13,0,u.data.dispatchNo)})}Object.defineProperty(n,"__esModule",{value:!0});var h=u(1),f=(u(0),u(39),u(47)),g=u(110),m=u(166),w=function(){function l(l,n,u,t){this.navCtrl=l,this.navParams=n,this.nativeService=u,this.http=t,this.data=[],this.orderNo="",this.orderNo=this.navParams.data.etDispatchNo}return l.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad DispathByListTracePage"+this.orderNo)},l.prototype.ionViewDidEnter=function(){this.map=new BMap.Map("allmap"),this.map.centerAndZoom(new BMap.Point(121.421,29.326),13),this.map.setCurrentCity("北京"),this.map.addControl(new BMap.NavigationControl),this.map.addControl(new BMap.ScaleControl),this.map.addControl(new BMap.OverviewMapControl),this.map.addControl(new BMap.MapTypeControl),this.map.enableScrollWheelZoom(!0),this.getDispatchNoTrack()},l.prototype.getDispatchNoTrack=function(){var l=this;this.http.yutong_sendHttpPostWithServerHeader(g.f.getDispatchNoTrack,this.http.handleParam({dispatchNo:this.orderNo})).subscribe(function(n){if(l.nativeService.hideLoading(),null!=n)if(n.isSuccess){null!=n.data&&(l.data=n.data),console.log("data=="+JSON.stringify(l.data));for(var u=[],t=0;t<l.data.locusList.length;t++)l.data.locusList[t].lng=l.data.locusList[t].etLongitude,l.data.locusList[t].lat=l.data.locusList[t].etLatitude,l.data.locusList[t].lat&&l.checkLngAndLat(l.data.locusList[t].lng,l.data.locusList[t].lat)&&u.push(new BMap.Point(parseFloat(l.data.locusList[t].etLongitude),parseFloat(l.data.locusList[t].etLatitude)));l.setZoom(u),l.map.enableScrollWheelZoom();var e=new BMap.Polyline(u,{strokeColor:"blue",strokeWeight:5,strokeOpacity:.5});l.map.addOverlay(e)}else l.nativeService.showToast(n.message,3e3,"top")},function(n){l.nativeService.hideLoading(),l.nativeService.httpErrorAlert(n,"")})},l.prototype.setZoom=function(l){if(l.length>0){for(var n,u=l[0].lng,t=l[0].lng,e=l[0].lat,o=l[0].lat,i=l.length-1;i>=0;i--)(n=l[i]).lng>u&&(u=n.lng),n.lng<t&&(t=n.lng),n.lat>e&&(e=n.lat),n.lat<o&&(o=n.lat);var a=(parseFloat(u)+parseFloat(t))/2,r=(parseFloat(e)+parseFloat(o))/2,s=this.getZoom(u,t,e,o);this.map.centerAndZoom(new BMap.Point(a,r),s)}else this.map.centerAndZoom(new BMap.Point(103.388611,35.563611),5)},l.prototype.getZoom=function(l,n,u,t){var e;e=["50","100","200","500","1000","2000","5000","10000","20000","25000","50000","100000","200000","500000","1000000","2000000"];for(var o=new BMap.Point(l,u),i=new BMap.Point(n,t),a=this.map.getDistance(o,i).toFixed(1),r=0,s=e.length;r<s;r++)if(e[r]-a>0)return 18-r+3},l.prototype.checkLngAndLat=function(l,n){return""!==l&&void 0!==l&&null!==l&&(""!==n&&void 0!==n&&null!==n)},l}(),y=function(){return function(){}}(),v=u(18),L=u(24),b=u(109),Z=u(169),Y=u(170),x=u(171),M=u(172),B=u(173),I=u(174),P=u(175),N=u(176),F=u(177),O=u(180),T=u(179),j=u(178),D=u(32),C=u(3),k=u(6),V=u(13),J=u(12),A=u(33),S=u(7),G=u(28),$=u(14),E=h.X({encapsulation:2,styles:[],data:{}}),z=h.W("page-dispath-by-list-trace",w,function(l){return h._19(0,[(l()(),h.Z(0,null,null,1,"page-dispath-by-list-trace",[],null,null,null,d,E)),h.Y(49152,null,0,w,[G.a,$.a,f.a,m.a],null,null)],null,null)},{},{},[]),R=u(48);u.d(n,"DispathByListTracePageModuleNgFactory",function(){return H});var W=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,n){l.__proto__=n}||function(l,n){for(var u in n)n.hasOwnProperty(u)&&(l[u]=n[u])};return function(n,u){function t(){this.constructor=n}l(n,u),n.prototype=null===u?Object.create(u):(t.prototype=u.prototype,new t)}}(),H=new h.s(function(l){function n(n){return l.call(this,n,[Z.a,Y.a,x.a,M.a,B.a,I.a,P.a,N.a,F.a,z],[])||this}return W(n,l),Object.defineProperty(n.prototype,"_NgLocalization_7",{get:function(){return null==this.__NgLocalization_7&&(this.__NgLocalization_7=new v.i(this.parent.get(h.r))),this.__NgLocalization_7},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_ɵi_8",{get:function(){return null==this.__ɵi_8&&(this.__ɵi_8=new L.n),this.__ɵi_8},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_FormBuilder_9",{get:function(){return null==this.__FormBuilder_9&&(this.__FormBuilder_9=new L.c),this.__FormBuilder_9},enumerable:!0,configurable:!0}),n.prototype.createInternal=function(){return this._CommonModule_0=new v.b,this._ɵba_1=new L.m,this._FormsModule_2=new L.d,this._ReactiveFormsModule_3=new L.l,this._IonicModule_4=new b.a,this._IonicPageModule_5=new b.b,this._DispathByListTracePageModule_6=new y,this._LAZY_LOADED_TOKEN_10=w,this._DispathByListTracePageModule_6},n.prototype.getInternal=function(l,n){return l===v.b?this._CommonModule_0:l===L.m?this._ɵba_1:l===L.d?this._FormsModule_2:l===L.l?this._ReactiveFormsModule_3:l===b.a?this._IonicModule_4:l===b.b?this._IonicPageModule_5:l===y?this._DispathByListTracePageModule_6:l===v.j?this._NgLocalization_7:l===L.n?this._ɵi_8:l===L.c?this._FormBuilder_9:l===R.a?this._LAZY_LOADED_TOKEN_10:n},n.prototype.destroyInternal=function(){},n}(h.U),y)}});