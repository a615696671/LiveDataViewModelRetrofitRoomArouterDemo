webpackJsonp([31],{590:function(l,n,u){"use strict";function t(l){return f._19(0,[(l()(),f.Z(0,null,null,10,"ion-col",[["align-items-center",""],["align-self-center",""],["class","current-text-color col"],["col-auto",""]],null,null,null,null,null)),f.Y(16384,null,0,O.a,[],null,null),(l()(),f._18(null,["\n                    "])),(l()(),f.Z(0,null,null,2,"ion-row",[["class","row"],["justify-content-center",""]],null,null,null,null,null)),f.Y(16384,null,0,k.a,[],null,null),(l()(),f._18(null,["",""])),(l()(),f._18(null,["\n                    "])),(l()(),f.Z(0,null,null,2,"ion-row",[["class","row"],["justify-content-center",""]],null,null,null,null,null)),f.Y(16384,null,0,k.a,[],null,null),(l()(),f._18(null,["","\n                    "])),(l()(),f._18(null,["\n                "]))],null,function(l,n){l(n,5,0,n.parent.context.$implicit.etBusinessTime.substring(0,10));l(n,9,0,n.parent.context.$implicit.etBusinessTime.substring(11,n.parent.context.$implicit.etBusinessTime.length))})}function e(l){return f._19(0,[(l()(),f.Z(0,null,null,10,"ion-col",[["align-items-center",""],["align-self-center",""],["class","col"],["col-auto",""]],null,null,null,null,null)),f.Y(16384,null,0,O.a,[],null,null),(l()(),f._18(null,["\n                    "])),(l()(),f.Z(0,null,null,2,"ion-row",[["class","row"],["justify-content-center",""]],null,null,null,null,null)),f.Y(16384,null,0,k.a,[],null,null),(l()(),f._18(null,["",""])),(l()(),f._18(null,["\n                    "])),(l()(),f.Z(0,null,null,2,"ion-row",[["class","row"],["justify-content-center",""]],null,null,null,null,null)),f.Y(16384,null,0,k.a,[],null,null),(l()(),f._18(null,["","\n                    "])),(l()(),f._18(null,["\n                "]))],null,function(l,n){l(n,5,0,n.parent.context.$implicit.etBusinessTime.substring(0,10));l(n,9,0,n.parent.context.$implicit.etBusinessTime.substring(11,n.parent.context.$implicit.etBusinessTime.length))})}function o(l){return f._19(0,[(l()(),f.Z(0,null,null,2,"ion-row",[["class","first-line-style current-first-line row"],["justify-content-center",""]],null,null,null,null,null)),f.Y(16384,null,0,k.a,[],null,null),(l()(),f._18(null,["\n                    "]))],null,null)}function i(l){return f._19(0,[(l()(),f.Z(0,null,null,2,"ion-row",[["class","circle-style current-color row"],["justify-content-center",""]],null,null,null,null,null)),f.Y(16384,null,0,k.a,[],null,null),(l()(),f._18(null,["\n                    "]))],null,null)}function a(l){return f._19(0,[(l()(),f.Z(0,null,null,2,"ion-row",[["class","first-line-style row"],["justify-content-center",""]],null,null,null,null,null)),f.Y(16384,null,0,k.a,[],null,null),(l()(),f._18(null,["\n                    "]))],null,null)}function r(l){return f._19(0,[(l()(),f.Z(0,null,null,2,"ion-row",[["class","circle-style row"],["justify-content-center",""]],null,null,null,null,null)),f.Y(16384,null,0,k.a,[],null,null),(l()(),f._18(null,["\n                    "]))],null,null)}function s(l){return f._19(0,[(l()(),f.Z(0,null,null,2,"ion-row",[["class","second-line-style row"],["justify-content-center",""]],null,null,null,null,null)),f.Y(16384,null,0,k.a,[],null,null),(l()(),f._18(null,["\n                    "]))],null,null)}function c(l){return f._19(0,[(l()(),f.Z(0,null,null,6,"ion-col",[["align-items-center",""],["align-self-center",""],["class","current-text-color col"]],null,null,null,null,null)),f.Y(16384,null,0,O.a,[],null,null),(l()(),f._18(null,["\n                    "])),(l()(),f.Z(0,null,null,2,"ion-row",[["class","row"],["text-wrap",""]],null,null,null,null,null)),f.Y(16384,null,0,k.a,[],null,null),(l()(),f._18(null,["","，",""])),(l()(),f._18(null,["\n                "]))],null,function(l,n){l(n,5,0,n.parent.context.$implicit.etStatus,n.parent.context.$implicit.etRemark)})}function _(l){return f._19(0,[(l()(),f.Z(0,null,null,6,"ion-col",[["align-items-center",""],["align-self-center",""],["class","col"]],null,null,null,null,null)),f.Y(16384,null,0,O.a,[],null,null),(l()(),f._18(null,["\n                    "])),(l()(),f.Z(0,null,null,2,"ion-row",[["class","row"],["text-wrap",""]],null,null,null,null,null)),f.Y(16384,null,0,k.a,[],null,null),(l()(),f._18(null,["","，",""])),(l()(),f._18(null,["\n                "]))],null,function(l,n){l(n,5,0,n.parent.context.$implicit.etStatus,n.parent.context.$implicit.etRemark)})}function d(l){return f._19(0,[(l()(),f.Z(0,null,null,45,"div",[],null,null,null,null,null)),(l()(),f._18(null,["\n            "])),(l()(),f.Z(0,null,null,42,"ion-row",[["class","row"]],null,null,null,null,null)),f.Y(16384,null,0,k.a,[],null,null),(l()(),f._18(null,["\n                "])),(l()(),f._18(null,["\n                "])),(l()(),f.V(16777216,null,null,1,null,t)),f.Y(16384,null,0,v.h,[f.J,f.G],{ngIf:[0,"ngIf"]},null),(l()(),f._18(null,["\n\n                "])),(l()(),f._18(null,["\n                "])),(l()(),f.V(16777216,null,null,1,null,e)),f.Y(16384,null,0,v.h,[f.J,f.G],{ngIf:[0,"ngIf"]},null),(l()(),f._18(null,["\n\n                "])),(l()(),f.Z(0,null,null,22,"ion-col",[["class","col"],["col-auto",""],["no-padding",""]],null,null,null,null,null)),f.Y(16384,null,0,O.a,[],null,null),(l()(),f._18(null,["\n                    "])),(l()(),f._18(null,["\n                    "])),(l()(),f.V(16777216,null,null,1,null,o)),f.Y(16384,null,0,v.h,[f.J,f.G],{ngIf:[0,"ngIf"]},null),(l()(),f._18(null,["\n\n                    "])),(l()(),f._18(null,["\n                    "])),(l()(),f.V(16777216,null,null,1,null,i)),f.Y(16384,null,0,v.h,[f.J,f.G],{ngIf:[0,"ngIf"]},null),(l()(),f._18(null,["\n\n                    "])),(l()(),f._18(null,["\n                    "])),(l()(),f.V(16777216,null,null,1,null,a)),f.Y(16384,null,0,v.h,[f.J,f.G],{ngIf:[0,"ngIf"]},null),(l()(),f._18(null,["\n\n                    "])),(l()(),f._18(null,["\n                    "])),(l()(),f.V(16777216,null,null,1,null,r)),f.Y(16384,null,0,v.h,[f.J,f.G],{ngIf:[0,"ngIf"]},null),(l()(),f._18(null,["\n\n                    "])),(l()(),f._18(null,["\n                    "])),(l()(),f.V(16777216,null,null,1,null,s)),f.Y(16384,null,0,v.h,[f.J,f.G],{ngIf:[0,"ngIf"]},null),(l()(),f._18(null,["\n\n                "])),(l()(),f._18(null,["\n\n                "])),(l()(),f._18(null,["\n                "])),(l()(),f.V(16777216,null,null,1,null,c)),f.Y(16384,null,0,v.h,[f.J,f.G],{ngIf:[0,"ngIf"]},null),(l()(),f._18(null,["\n\n                "])),(l()(),f._18(null,["\n                "])),(l()(),f.V(16777216,null,null,1,null,_)),f.Y(16384,null,0,v.h,[f.J,f.G],{ngIf:[0,"ngIf"]},null),(l()(),f._18(null,["\n            "])),(l()(),f._18(null,["\n        "]))],function(l,n){var u=n.component;l(n,7,0,0==n.context.index);l(n,11,0,0!=n.context.index);l(n,18,0,0==n.context.index);l(n,22,0,0==n.context.index);l(n,26,0,0!=n.context.index);l(n,30,0,0!=n.context.index);l(n,34,0,n.context.index!=u.data.routingList.length-1);l(n,39,0,0==n.context.index);l(n,43,0,0!=n.context.index)},null)}function p(l){return f._19(0,[(l()(),f._18(null,["\n"])),(l()(),f.Z(0,null,null,22,"ion-content",[["class","margin-top-style"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,j.b,j.a)),f.Y(4374528,null,0,N.a,[C.a,S.a,V.a,f.j,f.B,J.a,A.a,f.v,[2,G.a],[2,W.a]],null,null),(l()(),f._18(1,["\n\n    "])),(l()(),f.Z(0,null,1,10,"ion-row",[["class","bottom-line div-white-background row"]],null,null,null,null,null)),f.Y(16384,null,0,k.a,[],null,null),(l()(),f._18(null,["\n        "])),(l()(),f.Z(0,null,null,2,"ion-col",[["align-items-center",""],["class","col"]],null,null,null,null,null)),f.Y(16384,null,0,O.a,[],null,null),(l()(),f._18(null,["路由状态:"])),(l()(),f._18(null,["\n        "])),(l()(),f.Z(0,null,null,2,"ion-col",[["align-items-center",""],["align-self-center",""],["class","bold-font col"],["col-auto",""]],null,null,null,null,null)),f.Y(16384,null,0,O.a,[],null,null),(l()(),f._18(null,["",""])),(l()(),f._18(null,["\n    "])),(l()(),f._18(1,["\n\n    "])),(l()(),f.Z(0,null,1,0,"div",[["id","allmap"]],null,null,null,null,null)),(l()(),f._18(1,["\n\n    "])),(l()(),f.Z(0,null,1,4,"div",[["class","div-white-background"]],null,null,null,null,null)),(l()(),f._18(null,["\n        "])),(l()(),f.V(16777216,null,null,1,null,d)),f.Y(802816,null,0,v.g,[f.J,f.G,f.p],{ngForOf:[0,"ngForOf"]},null),(l()(),f._18(null,["\n    "])),(l()(),f._18(1,["\n\n"])),(l()(),f._18(null,["\n"]))],function(l,n){l(n,21,0,n.component.data.routingList)},function(l,n){var u=n.component;l(n,1,0,f._12(n,2).statusbarPadding,f._12(n,2)._hasRefresher);l(n,13,0,u.data.orderNo)})}Object.defineProperty(n,"__esModule",{value:!0});var f=u(1),h=(u(0),u(39),u(110)),g=u(47),m=u(166),w=function(){function l(l,n,u,t){this.navCtrl=l,this.navParams=n,this.nativeService=u,this.http=t,this.data=[],this.orderNo="",this.orderNo=this.navParams.data}return l.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad OnTheWayFeedbackTracePage")},l.prototype.ionViewDidEnter=function(){this.map=new BMap.Map("allmap"),this.map.centerAndZoom(new BMap.Point(121.421,29.326),13),this.map.setCurrentCity("北京"),this.map.addControl(new BMap.NavigationControl),this.map.addControl(new BMap.ScaleControl),this.map.addControl(new BMap.OverviewMapControl),this.map.addControl(new BMap.MapTypeControl),this.map.enableScrollWheelZoom(!0),this.getInTransitTrack()},l.prototype.getInTransitTrack=function(){var l=this;this.http.yutong_sendHttpPostWithServerHeader(h.f.getInTransitTrack,this.http.handleParam({orderNo:this.orderNo})).subscribe(function(n){if(l.nativeService.hideLoading(),null!=n)if(n.isSuccess){null!=n.data&&(l.data=n.data);for(var u=[],t=l.data.routingList.length-1;t>=0;t--)u.push(l.data.routingList[t]);l.data.routingList=u,console.log("data=="+JSON.stringify(l.data));for(var e=[],o=0;o<l.data.locusList.length;o++)l.data.locusList[o].lng=l.data.locusList[o].etLongitude,l.data.locusList[o].lat=l.data.locusList[o].etLatitude,l.data.locusList[o].lat&&l.checkLngAndLat(l.data.locusList[o].lng,l.data.locusList[o].lat)&&e.push(new BMap.Point(parseFloat(l.data.locusList[o].etLongitude),parseFloat(l.data.locusList[o].etLatitude)));l.setZoom(e),l.map.enableScrollWheelZoom();var i=new BMap.Polyline(e,{strokeColor:"blue",strokeWeight:5,strokeOpacity:.5});l.map.addOverlay(i)}else l.nativeService.showToast(n.message,3e3,"top")},function(n){l.nativeService.hideLoading(),l.nativeService.httpErrorAlert(n,"")})},l.prototype.setZoom=function(l){if(l.length>0){for(var n,u=l[0].lng,t=l[0].lng,e=l[0].lat,o=l[0].lat,i=l.length-1;i>=0;i--)(n=l[i]).lng>u&&(u=n.lng),n.lng<t&&(t=n.lng),n.lat>e&&(e=n.lat),n.lat<o&&(o=n.lat);var a=(parseFloat(u)+parseFloat(t))/2,r=(parseFloat(e)+parseFloat(o))/2,s=this.getZoom(u,t,e,o);this.map.centerAndZoom(new BMap.Point(a,r),s)}else this.map.centerAndZoom(new BMap.Point(103.388611,35.563611),5)},l.prototype.getZoom=function(l,n,u,t){var e;e=["50","100","200","500","1000","2000","5000","10000","20000","25000","50000","100000","200000","500000","1000000","2000000"];for(var o=new BMap.Point(l,u),i=new BMap.Point(n,t),a=this.map.getDistance(o,i).toFixed(1),r=0,s=e.length;r<s;r++)if(e[r]-a>0)return 18-r+3},l.prototype.checkLngAndLat=function(l,n){return""!==l&&void 0!==l&&null!==l&&(""!==n&&void 0!==n&&null!==n)},l}(),y=function(){return function(){}}(),v=u(18),b=u(24),L=u(109),Z=u(169),x=u(170),Y=u(171),M=u(172),I=u(173),T=u(174),P=u(175),B=u(176),F=u(177),O=u(180),k=u(179),j=u(178),N=u(32),C=u(3),S=u(6),V=u(13),J=u(12),A=u(33),G=u(7),W=u(28),$=u(14),D=f.X({encapsulation:2,styles:[],data:{}}),E=f.W("page-on-the-way-feedback-trace",w,function(l){return f._19(0,[(l()(),f.Z(0,null,null,1,"page-on-the-way-feedback-trace",[],null,null,null,p,D)),f.Y(49152,null,0,w,[W.a,$.a,g.a,m.a],null,null)],null,null)},{},{},[]),z=u(48);u.d(n,"OnTheWayFeedbackTracePageModuleNgFactory",function(){return H});var R=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,n){l.__proto__=n}||function(l,n){for(var u in n)n.hasOwnProperty(u)&&(l[u]=n[u])};return function(n,u){function t(){this.constructor=n}l(n,u),n.prototype=null===u?Object.create(u):(t.prototype=u.prototype,new t)}}(),H=new f.s(function(l){function n(n){return l.call(this,n,[Z.a,x.a,Y.a,M.a,I.a,T.a,P.a,B.a,F.a,E],[])||this}return R(n,l),Object.defineProperty(n.prototype,"_NgLocalization_7",{get:function(){return null==this.__NgLocalization_7&&(this.__NgLocalization_7=new v.i(this.parent.get(f.r))),this.__NgLocalization_7},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_ɵi_8",{get:function(){return null==this.__ɵi_8&&(this.__ɵi_8=new b.n),this.__ɵi_8},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_FormBuilder_9",{get:function(){return null==this.__FormBuilder_9&&(this.__FormBuilder_9=new b.c),this.__FormBuilder_9},enumerable:!0,configurable:!0}),n.prototype.createInternal=function(){return this._CommonModule_0=new v.b,this._ɵba_1=new b.m,this._FormsModule_2=new b.d,this._ReactiveFormsModule_3=new b.l,this._IonicModule_4=new L.a,this._IonicPageModule_5=new L.b,this._OnTheWayFeedbackTracePageModule_6=new y,this._LAZY_LOADED_TOKEN_10=w,this._OnTheWayFeedbackTracePageModule_6},n.prototype.getInternal=function(l,n){return l===v.b?this._CommonModule_0:l===b.m?this._ɵba_1:l===b.d?this._FormsModule_2:l===b.l?this._ReactiveFormsModule_3:l===L.a?this._IonicModule_4:l===L.b?this._IonicPageModule_5:l===y?this._OnTheWayFeedbackTracePageModule_6:l===v.j?this._NgLocalization_7:l===b.n?this._ɵi_8:l===b.c?this._FormBuilder_9:l===z.a?this._LAZY_LOADED_TOKEN_10:n},n.prototype.destroyInternal=function(){},n}(f.U),y)}});